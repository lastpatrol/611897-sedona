var arrivalValue,departureValue,link=document.querySelector(".hotel-search-button"),form=document.querySelector(".hotel-search-form"),arrivalElement=form.querySelector("#arrival"),departureElement=form.querySelector("#departure"),adultsElement=form.querySelector("#adults"),childrenElement=form.querySelector("#children"),arrivalCalendar=form.querySelector(".arrival-calendar"),departureCalendar=form.querySelector(".departure-calendar"),adultsMinus=form.querySelector(".adults-minus"),adultsPlus=form.querySelector(".adults-plus"),childrenMinus=form.querySelector(".children-minus"),childrenPlus=form.querySelector(".children-plus"),hotelSearchSubmit=form.querySelector(".hotel-search-submit"),currentDate=new Date,currentUnixTime=currentDate.getTime(),arrivalUnixTime=currentUnixTime+864e5,departureUnixTime=currentUnixTime+6912e5,arrivalDate=new Date(arrivalUnixTime),departureDate=new Date(departureUnixTime);function getDateValue(e){var t,r=e.getDate(),a=e.getMonth();return 0==a?t="января":1==a?t="февраля":2==a?t="марта":3==a?t="апреля":4==a?t="мая":5==a?t="июня":6==a?t="июля":7==a?t="августа":8==a?t="сетября":9==a?t="октября":10==a?t="ноября":11==a&&(t="декабря"),r+" "+t+" "+e.getFullYear()}arrivalValue=getDateValue(arrivalDate),departureValue=getDateValue(departureDate),arrivalElement.value=arrivalValue,departureElement.value=departureValue,form.classList.add("form-closed"),arrivalElement.setAttribute("disabled","disabled"),departureElement.setAttribute("disabled","disabled"),adultsElement.setAttribute("disabled","disabled"),childrenElement.setAttribute("disabled","disabled"),arrivalCalendar.setAttribute("disabled","disabled"),departureCalendar.setAttribute("disabled","disabled"),adultsMinus.setAttribute("disabled","disabled"),adultsPlus.setAttribute("disabled","disabled"),childrenMinus.setAttribute("disabled","disabled"),childrenPlus.setAttribute("disabled","disabled"),hotelSearchSubmit.setAttribute("disabled","disabled");var adults,children,isStorageSupport=!0;try{adults=localStorage.getItem("adults")}catch(e){isStorageSupport=!1}try{children=localStorage.getItem("children")}catch(e){isStorageSupport=!1}function focusAndSelect(e){e.focus(),e.select()}link.addEventListener("click",function(e){e.preventDefault(),form.classList.contains("form-closed")?(arrivalElement.removeAttribute("disabled"),departureElement.removeAttribute("disabled"),adultsElement.removeAttribute("disabled"),childrenElement.removeAttribute("disabled"),arrivalCalendar.removeAttribute("disabled"),departureCalendar.removeAttribute("disabled"),adultsMinus.removeAttribute("disabled"),adultsPlus.removeAttribute("disabled"),childrenMinus.removeAttribute("disabled"),childrenPlus.removeAttribute("disabled"),hotelSearchSubmit.removeAttribute("disabled"),form.classList.remove("form-animation-error"),form.classList.remove("form-animation-close"),form.classList.add("form-animation-open"),form.classList.remove("form-closed"),adults&&(adultsElement.value=adults),children&&(childrenElement.value=children),setTimeout(focusAndSelect,700,arrivalElement)):(form.classList.remove("form-animation-error"),form.classList.remove("form-animation-open"),form.classList.add("form-animation-close"),form.classList.add("form-closed"),arrivalElement.setAttribute("disabled","disabled"),departureElement.setAttribute("disabled","disabled"),adultsElement.setAttribute("disabled","disabled"),childrenElement.setAttribute("disabled","disabled"),arrivalCalendar.setAttribute("disabled","disabled"),departureCalendar.setAttribute("disabled","disabled"),adultsMinus.setAttribute("disabled","disabled"),adultsPlus.setAttribute("disabled","disabled"),childrenMinus.setAttribute("disabled","disabled"),childrenPlus.setAttribute("disabled","disabled"),hotelSearchSubmit.setAttribute("disabled","disabled"))}),form.addEventListener("submit",function(e){arrivalElement.value&&departureElement.value&&adultsElement.value&&childrenElement.value?(localStorage.setItem("adults",adultsElement.value),localStorage.setItem("children",childrenElement.value)):(e.preventDefault(),form.classList.remove("form-animation-error"),form.offsetWidth=form.offsetWidth,form.classList.add("form-animation-error"))});